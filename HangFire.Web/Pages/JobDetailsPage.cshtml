@* Generator: Template TypeVisibility: Internal *@
@using System
@using Pages
@inherits RazorPage
@{
    Layout = new LayoutPage { Title = "Job Details" };
    var job = JobStorage.JobDetails(JobId.ToString());
}

@if (job == null)
{
    @: The job with id '@JobId' was expired or was not existed on the server.
}
else
{
    <dl class="dl-horizontal">
        <dt>Id</dt>
        <dd>@JobId</dd>
    
        <dt>Type</dt>
        <dd>@HtmlHelper.JobType(job.Type)</dd>
    
        <dt>Arguments</dt>
        <dd><code>@HtmlHelper.FormatProperties(job.Arguments)</code></dd>
    
        @foreach (var property in job.Properties)
        {
            <dt>@property.Key</dt>
            <dd>@property.Value</dd>
        }
    </dl>
    
    <h3>History</h3>
    foreach (var entry in job.History)
    {
        <table class="table table-bordered table-condensed">
            @foreach (var item in entry)
            {
                <tr>
                    <td>@item.Key</td>
                    <td>@item.Value</td>
                </tr>
            }
        </table>
    }
}